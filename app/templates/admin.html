{% extends "base.html" %}
{% block title %}Admin | Reliable Walks{% endblock %}
{% block content %}
<section class="admin-panel admin-panel--focused">
  <div class="admin-body admin-body--focused">
    <div class="container admin-container">
      <div class="admin-console admin-console--focused" id="admin-chat" data-role="admin-chat">
        <header class="admin-console__header">
          <div class="admin-console__heading">
            <p class="eyebrow">Live concierge desk</p>
            <h1>Chat with visitors in real time</h1>
            <p class="admin-console__summary" data-role="conversation-summary">
              Reply instantly without digging through dashboards.
            </p>
          </div>
          <div class="admin-console__status">
            <span
              class="chat-status-indicator is-on"
              data-role="live-chat-status"
              role="status"
              aria-live="polite"
            >
              Live chat is ON — reply to visitors right here.
            </span>
          </div>
        </header>
        <div class="admin-console__actions">
          <a
            class="admin-alert"
            data-role="waiting-alert"
            aria-live="assertive"
            href="#live-conversations"
            hidden
          >
            A visitor is waiting for a live reply.
          </a>
        </div>
        <div class="chat-desk" id="live-conversations">
          <div class="live-support-shell" data-role="conversation-overview">
            <div class="live-support-main">
              <section class="live-support-inbox">
                <header class="live-support-inbox__header">
                  <h4>Inbox</h4>
                  <p>Pick a visitor to view their conversation.</p>
                </header>
                <aside
                  class="visitor-list"
                  data-role="visitor-list"
                  aria-label="Visitor conversations"
                ></aside>
              </section>
              <section class="live-support-stage">
                <div class="conversation-layout">
                  <div class="conversation-panel" data-role="conversation-panel">
                    <header class="chat-header">
                      <div class="chat-presence">
                        <span
                          class="presence-indicator"
                          data-role="presence-indicator"
                          aria-hidden="true"
                        ></span>
                        <div class="chat-presence__content">
                          <p class="presence-label" data-role="presence-label">
                            Live concierge ready
                          </p>
                          <h3 class="visitor-heading" data-role="visitor-heading">
                            No active visitors
                          </h3>
                          <div class="chat-presence__meta">
                            <span class="visitor-status-tag" data-role="visitor-status"></span>
                            <span class="chat-mode-chip" data-role="chat-mode-chip">
                              Live concierge ready
                            </span>
                          </div>
                        </div>
                      </div>
                      <div class="chat-toolbar">
                        <span class="chat-toolbar__status" data-role="chat-mode">Live concierge</span>
                        <span class="chat-toolbar__target">
                          Response target <strong data-role="response-target">under 2m</strong>
                        </span>
                      </div>
                    </header>
                    <div
                      class="chat-window"
                      data-chat-messages
                      data-placeholder="Select a visitor to view their messages."
                      aria-live="polite"
                    ></div>
                    <p class="chat-hint" data-role="chat-hint">
                      Live chat is ready. Select a visitor to reply.
                    </p>
                    <form id="agent-reply-form" class="reply-form">
                      <label class="field-label" for="agent-message">Reply to visitor</label>
                      <textarea
                        id="agent-message"
                        rows="4"
                        placeholder="Type your message to the visitor..."
                        required
                      ></textarea>
                      <div class="form-actions">
                        <button type="submit" class="button secondary">Send Reply</button>
                        <p class="form-feedback" data-role="agent-feedback"></p>
                      </div>
                    </form>
                  </div>
                  <aside
                    class="conversation-insights"
                    data-role="conversation-insights"
                    aria-live="polite"
                    hidden
                  >
                    <div class="insights-header">
                      <h4>Conversation insights</h4>
                      <p class="insights-empty" data-role="insights-empty">
                        Pick a visitor from the inbox to see their context here.
                      </p>
                    </div>
                    <dl class="insights-list" data-role="insights-list" hidden>
                      <div class="insights-row">
                        <dt>Last seen</dt>
                        <dd data-role="insight-last-seen">—</dd>
                      </div>
                      <div class="insights-row">
                        <dt>Last message</dt>
                        <dd data-role="insight-last-message">—</dd>
                      </div>
                      <div class="insights-row">
                        <dt>Visits</dt>
                        <dd data-role="insight-visit-count">—</dd>
                      </div>
                      <div class="insights-row">
                        <dt>Current page</dt>
                        <dd data-role="insight-last-path">—</dd>
                      </div>
                    </dl>
                    <div class="insights-timeline" data-role="insights-timeline" hidden>
                      <h5>Recent site activity</h5>
                      <ol class="timeline-list" data-role="timeline-list"></ol>
                      <p class="timeline-empty" data-role="timeline-empty">
                        This visitor hasn’t browsed enough pages yet.
                      </p>
                    </div>
                  </aside>
                </div>
              </section>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
